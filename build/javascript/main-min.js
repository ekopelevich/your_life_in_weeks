function setPersonalInfo(){var e=$(".username").val();localStorage.setItem("username",e);var t=$(".birthday").val();localStorage.setItem("birthday",t)}function initialSubmit(){$("#initial-submit").click(function(){setPersonalInfo(),window.location="grid.html"})}function initMap(e){var t=e||{lat:0,lng:0};return map=new google.maps.Map(document.getElementById("map"),{center:t,zoom:10,mapTypeId:google.maps.MapTypeId.ROADMAP}),console.log(google.maps.LatLng),map}function adjustMapCenter(e,t){mapOptions={center:t,zoom:12,mapTypeId:google.maps.MapTypeId.ROADMAP},e.setOptions(mapOptions)}function placePin(e,t){var o=new google.maps.Marker({position:t,map:e,title:"This is where it happened!"});console.log(o.position),console.log(o.title),console.log(t)}function getLatLng(e,t){var o="https://maps.googleapis.com/maps/api/geocode/json?address=",a=$.get(o+t);a.done(function(t){localStorage.setItem("deffered",JSON.stringify(t)),placePin(e,t.results[0].geometry.location),console.log(e),adjustMapCenter(e,t.results[0].geometry.location),console.log("Success",t)}),a.fail(function(e){console.log("Failed")})}function drawGrid(){var e,t,o=1,a=new Date(localStorage.getItem("birthday")),n=0;a.setDate(a.getDate()+1);for(var i=0;100>i;i++){t='<p class= "row-number" >'+n++ +"</p>",$("#weeks-grid").append(t);for(var l=0;52>l;l++)e='<div class = "week-unit" id = "'+o+'"data-date="'+a+'" data-toggle="tooltip"></div>',o++,a.setDate(a.getDate()+7),$("#weeks-grid").append(e)}}function displayPersonalInfo(){$("#details-box").prepend("<p> DOB: "+localStorage.birthday+"</p>"),$("#details-box").prepend("<h4>"+localStorage.username+"</h4>")}function cursorToPointer(){$(".week-unit").hover(function(){$(this).css("cursor","pointer")}),$(".get-started").hover(function(){$(this).css("cursor","pointer")})}function checkEventsInLocalStorage(){var e;for(var t in localStorage)for(var o=0;5200>o;o++)t==o&&(e=JSON.parse(localStorage.getItem(t)),console.log(t),$("#"+o).addClass("color"),$("#"+o).css("background-color",e.color))}function eventSubmitListener(){$("#event-submit").click(function(){setEventInfo(),validateForm()})}function weekClickListener(){var e,t,o,a,n,i;$(".week-unit").click(function(){if($(".event-info").empty(),$(this).hasClass("color")){for(var l in localStorage)$(this).attr("id")==l&&(e=JSON.parse(localStorage.getItem(l)),t=e.date,o=e.title,a=e.description,n=e.address,i=e.color);$(".event-info").append('<div class="event-info"><h5>'+t+"</h5><h4>"+o+"</h4><p>"+a+"</p><p>"+n+'</p><div id="map"></div></div>')}else $(".event-info").append("No events this week."),$(".event-info").append('<img src="../images/sad-cat.jpg">');console.log(n),initMap(),getLatLng(map,n)})}function getLifeEvent(e,t){for(var o=0;5201>o;o++){var a,n,i,l,r;if(o===e)a=JSON.parse(localStorage.getItem(o)),n=a.date,i=a.title,l=a.description,r=a.address,console.log(n,i,l);else if(o>e)return null}}function fillSquare(e,t){for(var o=0;5200>o;o++)if(e===o)console.log("eventLogged"),$("#"+o).addClass("color").css("background-color",t.color);else if(o>e)return null}function checkDate(e,t){var o=new Date(localStorage.getItem("birthday")).getTime(),a=new Date(e).getTime(),n=864e5,i=7,l=Math.ceil((a-o)/n/i);0===l&&(l=1),localStorage.setItem(l,JSON.stringify(t)),getLifeEvent(l,t),fillSquare(l,t)}function setEventInfo(){var e={};e.date=$(".event-date").val(),e.title=$(".event-title").val(),e.description=$(".event-description").val(),e.color=$(".event-color").val(),e.address=$(".event-address").val(),localStorage.setItem("eventInfo",JSON.stringify(e)),checkDate(e.date,e)}function validateForm(){var e=$(".event-title").val(),t=$(".event-title").val().length;console.log(e),console.log(t),3>t&&(console.log("event title is too short"),$(".event-title").append("<p>Your name longer than that!</p>"))}function init(){initialSubmit(),drawGrid(),cursorToPointer(),displayPersonalInfo(),eventSubmitListener(),weekClickListener(),checkEventsInLocalStorage()}$(window).scroll(function(){$(".navbar").offset().top>50?$(".navbar-fixed-top").addClass("top-nav-collapse"):$(".navbar-fixed-top").removeClass("top-nav-collapse")}),$(function(){$("a.page-scroll").bind("click",function(e){var t=$(this);$("html, body").stop().animate({scrollTop:$(t.attr("href")).offset().top},1500,"easeInOutExpo"),e.preventDefault()})}),$(".navbar-collapse ul li a").click(function(){$(".navbar-toggle:visible").click()});var map;$(document).ready(init());